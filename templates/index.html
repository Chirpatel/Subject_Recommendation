<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Subject Recommendation</title>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
  </head>
<body>
	<p style="margin:10px;" class="h1 mx-sm-3 mb-2">Subject Recommendation</p>
    <div style="margin:10px;" class="form-group mx-sm-3 mb-2">
    <label for="exampleInputEmail1">Subject Code</label>
    <input id="subject" type="text" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="ITE1001">
    <small id="emailHelp" class="form-text text-muted">Enter Subject Code</small>
  </div>
  <div style="margin:10px;"class="form-group mx-sm-3 mb-2">
    <label for="exampleInputEmail1">Ratings</label>
    <input id="ratings" type="text" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="(0-5)">
    <small id="emailHelp" class="form-text text-muted">Enter the Ratings of the Subject </small>
  </div>
  <div style="margin:10px;" class="form-check form-check-inline mx-sm-3 mb-2">
  <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio1" value="option1" checked>
  <label class="form-check-label" for="inlineRadio1">According to Subject's Content</label>
</div>
<div class="form-check form-check-inline " style="margin:10px;">
  <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio2" value="option2">
  <label class="form-check-label" for="inlineRadio2">According to Ratings</label>
</div>
<div style="margin:10px;" class="form-check form-check-inline ">
  <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio3" value="option3" >
  <label class="form-check-label" for="inlineRadio3">Both</label>
</div>
  <div>
  <button style="margin:10px;" id="submit-button" type="button" class="btn btn-primary mx-sm-3 mb-2">Search</button>
    </div>
    <p style="margin:10px;"  class="lead mx-sm-3 mb-2"><b>Similar Subject:</b> <span id="recommendation"></span></p>

    <script src="https://code.jquery.com/jquery-3.1.1.min.js" ></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
<script>
  

$("#submit-button").click(function(event){
    if(document.getElementById('inlineRadio1').checked) {
      flag=1;
    }else if(document.getElementById('inlineRadio2').checked) {
      flag=2;
    }else{
      flag=3;
    }
  //alert(flag);
    subjectid= document.getElementById('subject').value;
		ratings= document.getElementById('ratings').value;
		if (!Number.isInteger(ratings)){
			ratings = 0;
			}
		if(ratings>5 or ratings<0){
			alert("Rating should be between 0 to 5")
		}else{
			if(subjectid!=""){
					let message = {
							subjectid:subjectid,
							ratings:ratings,
							type:flag
					}
					console.log(message);
				$.post("https://Subject-Recommendation.chir0313.repl.co/",JSON.stringify(message), function(response){
					if(response.subjectname=="-1"){
						alert("Subject name does not exist.");
							$("#recommendation").text(" ")
					}else{
						$("#recommendation").text(response.subjectname+" ("+response.subjectcode+")");
						console.log(response);
					}
				});
			}else{
				alert("Invalid Subject");
			}
		}
});

</script>


</body>
</html>